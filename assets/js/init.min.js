(function($){var weatherKey={};weatherKey.siteRoot="8c1a8ef70cc596b2";var geoLocate=function(){function a(a){var b=a.coords.latitude,d=a.coords.longitude;c(b,d)}function b(){alert("Geocoder failed")}function c(a,b){var c=new google.maps.LatLng(a,b);d.geocode({latLng:c},function(a,b){if(b==google.maps.GeocoderStatus.OK)if(a[1]){for(var c=0;c<a[0].address_components.length;c++)for(var d=0;d<a[0].address_components[c].types.length;d++)if("locality"==a[0].address_components[c].types[d])city=a[0].address_components[c];else if("administrative_area_level_1"==a[0].address_components[c].types[d]){state=a[0].address_components[c];break}$("body").find("#out").append(city.long_name+", "+state.short_name),e=city.long_name,stateName=state.short_name,weatherFunction(e,stateName)}else weatherFunction("null","null");else weatherFunction("null","null")})}var d=new google.maps.Geocoder,e="";stateName="",navigator.geolocation&&navigator.geolocation.getCurrentPosition(a,b)},weatherFunction=function(a,b){$("body").find("#current, #forecast").empty();if("null"==a){var c="",d="Enter Zip Below",e="",f="",g="";c='<div id="w-current" class="w-current">',c=c+'<div class="f-display"><div class="f-display__inner f-display__'+g+'"></div></div>',c=c+'<h1 class="w-current__location">'+d+"</h1>",c=c+'<span class="w-current__temp">'+e+"</span>",c=c+'<span class="w-current__wind">'+f+"</span>",c+="</div>",$("body").find("#current").append(c)}else{var h=weatherKey.siteRoot,i="http://api.wunderground.com/api/"+h+"/conditions/q/"+b+"/"+a+".json",j="http://api.wunderground.com/api/"+h+"/forecast/q/"+b+"/"+a+".json",k=new Date,l=k.getDate(),m=k.getMonth()+1,n=k.getFullYear();k=l+" - "+m+" - "+n,$.ajax({url:i,dataType:"jsonp",success:function(a){var b=a.current_observation;if(null==b){var c="",d="Zip Code Error. Try again.",e="",f="",g="";c='<div id="w-current" class="w-current">',c=c+'<div class="f-display f-display__'+g+'"><div class="f-display__inner"></div></div>',c=c+'<h1 class="w-current__location">'+d+"</h1>",c=c+'<span class="w-current__temp">'+e+"</span>",c=c+'<span class="w-current__wind">'+f+"</span>",c+="</div>",$("body").find("#current").append(c)}else{var d=a.current_observation.display_location.city+", "+a.current_observation.display_location.state,e=a.current_observation.temp_f,f=a.current_observation.weather,g=a.current_observation.icon,c="";c='<div id="w-current" class="w-current">',c=c+'<div class="f-display f-display__'+g+'"><div class="f-display__inner"></div></div>',c=c+'<h1 class="w-current__location">'+d+"</h1>",c=c+'<span class="w-current__temp">'+e+"&#176;</span>",c=c+'<span class="w-current__wind">'+f+"</span>",c+="</div>",$("body").find("#current").append(c)}},error:function(){var a="",b="Enter Zip Below",c="",d="",e="";a='<div id="w-current" class="w-current">',a=a+'<div class="f-display f-display__'+e+'"><div class="f-display__inner"></div></div>',a=a+'<h1 class="w-current__location">'+b+"</h1>",a=a+'<span class="w-current__temp">'+c+"</span>",a=a+'<span class="w-current__wind">'+d+"</span>",a+="</div>",$("body").find("#current").append(a)}}),$.ajax({url:j,dataType:"jsonp",success:function(a){var b=a.forecast;if(null==b);else{var c=a.forecast.simpleforecast.forecastday,d="";d='<h2 class="forecast__title">Forecast</h2>',d+='<div class="forecast__container g g-4up">',$.each(c,function(a,b){dayI=a+1,conditions=c[a].conditions,high=c[a].high.fahrenheit,low=c[a].low.fahrenheit,icon=c[a].icon,0==a?date="Today":date=c[a].date.weekday_short,d=d+'<div id="day-'+dayI+'" class="w-day w-day__day-'+dayI+' gi">',d=d+'<div class="f-display f-display__'+icon+'"><div class="f-display__inner"></div></div>',d=d+'<p class="w-day__date date-'+dayI+'">'+date+"</p>",d=d+'<span class="w-day__temp high">'+high+"&#176;</span>/",d=d+'<span class="w-day__temp low">'+low+"&#176;</span>",d=d+'<p class="w-day__conditions conditions-'+dayI+'">'+conditions+"</p>",d+="</div>"}),d+="</div>"}$("body").find(".main").addClass("weather-active").find("#forecast").append(d).delay(500).queue(function(a){$("body").addClass("weather-move"),a()}),$("body").find("#jspdx-loader").removeClass("jspdx-loader--loading")},error:function(){}})}},weatherFormSubmit=function(){$("#weather-form").submit(function(a){a.preventDefault();var b=$("#wzip").val();""==b||getAddressInfoByZip(b)})},getAddressInfoByZip=function(a){if(a.length>=5&&"undefined"!=typeof google){var b=new google.maps.Geocoder;b.geocode({address:a},function(a,b){if(b==google.maps.GeocoderStatus.OK){var c=a[0].address_components[1].long_name,d=a[0].address_components[3].short_name;$("body").find(".main").removeClass("weather-active, weather-move"),$("body").find("#jspdx-loader").addClass("jspdx-loader--loading"),weatherFunction(c,d)}else alert("Request failed. Please try again.")})}},formLabel=function(){var a=".form-group";$(document).on("focus change keyup",a+" :input",function(){$(this).parents(a).addClass("label-active")}),$(document).on("blur",a+" :input",function(){(!$(this).val()&&$(this).not(".datepicker")||"(___) ___-____"==$(this).val())&&$(this).parents(a).removeClass("label-active")})};$(document).ready(function(a){geoLocate(),weatherFormSubmit(),formLabel()}),$(window).load(function(a){}),$(window).resize(function(){}),$(window).scroll(function(){});})(jQuery);